{"version":3,"sources":["spotify.js","Login.js","SidebarOption.js","DataLayer.js","Sidebar.js","Body.js","Footer.js","Player.js","App.js","reportWebVitals.js","reducer.js","index.js"],"names":["loginUrl","join","Login","className","src","alt","href","SidebarOption","title","Icon","DataLayerContext","createContext","DataLayer","initialState","reducer","children","Provider","value","useReducer","useDataLayerValue","useContext","Sidebar","playlists","console","log","HomeIcon","option","SearchIcon","LibraryMusicIcon","items","map","playlist","name","Body","Footer","Player","spotify","SpotifyWebApi","App","token","user","dispatch","useEffect","hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","_token","access_token","type","setAccessToken","getMe","then","getUserPlaylists","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","state","action","ReactDOM","render","StrictMode","playLists","playing","document","getElementById"],"mappings":"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","file":"static/js/main.4b13c8fb.chunk.js","sourcesContent":["//https://developer.spotify.com/\r\n//documentation/web-playback-sdk/quick-start///#endregion\r\n\r\nexport const authEndpoint =\r\n    \"https://accounts.spotify.com/authorize\";\r\n\r\n//click login button\r\n\r\nconst redirectUri = \"http://localhost:3000/\";\r\n//rediect to spotify login page\r\n\r\n//redirect to home page once logged in\r\n\r\nconst clientId = \"886838ecab39450191a1d29029eee945\";\r\n\r\nconst scopes = [\r\n    \"user-read-currently-playing\",\r\n    \"user-read-recently-played\",\r\n    \"user-read-playback-state\",\r\n    \"user-top-read\",\r\n    \"user-modify-playback-state\",\r\n];\r\n//scopes or services which is provided to a user\r\n//actions that can be performed by the user\r\n\r\nexport const getTokenFromUrl = () => {\r\n    return window.location.hash\r\n        .substring(1)\r\n        .split('&')\r\n        .reduce((initial, item) => {\r\n            //#accessToken=mysupersecretkey&name=priya\r\n            let parts = item.split('=');\r\n            initial[parts[0]] = decodeURIComponent(parts[1]);\r\n\r\n            return initial;\r\n        }, {});\r\n    //get the token access\r\n};\r\n\r\nexport const loginUrl = `${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\"%20\")}&response_type=token&show_dialog=true`;\r\n//response_type=token will authenticate the user , who are you and provide the identity","import React from 'react';\r\nimport './Login.css';\r\nimport { loginUrl } from './spotify';\r\n\r\nfunction Login() {\r\n    return ( <\r\n        div className = \"login\" >\r\n        <\r\n        img src = \"https://getheavy.com/wp-content/uploads/2019/12/spotify2019-830x350.jpg\"\r\n        alt = \"\" / >\r\n\r\n        { /*Spotify Logo*/ } { /* Login with spotify button */ }\r\n\r\n        <\r\n        a href = { loginUrl } > LOGIN WITH SPOTIFY < /a> <\r\n        /div>\r\n    )\r\n}\r\n\r\nexport default Login","import React from 'react';\r\nimport \"./SidebarOption.css\";\r\n\r\nfunction SidebarOption({ title, Icon }) {\r\n    return ( <\r\n        div className = \"sidebarOption\" > {\r\n            Icon && < Icon className = \"sidebarOption__icon\" > < /Icon>} { Icon ? < h4 > { title } < /h4> : <p>{title}</p > } <\r\n            /div>\r\n        )\r\n    }\r\n\r\n    export default SidebarOption","import React , {createContext, useContext , useReducer } from \"react\";\r\n\r\nexport const DataLayerContext = createContext();\r\n\r\nexport const DataLayer = ({ initialState , reducer , children}) => (\r\n        <DataLayerContext.Provider value={useReducer(reducer , initialState)}>\r\n            {children}\r\n        </DataLayerContext.Provider>\r\n);\r\n\r\nexport const useDataLayerValue = () => useContext(DataLayerContext);\r\n","import React from \"react\";\r\nimport \"./Sidebar.css\";\r\nimport SidebarOption from \"./SidebarOption\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport LibraryMusicIcon from \"@material-ui/icons/LibraryMusic\";\r\n//import { getTokenFromResponse } from \"./spotify\";\r\nimport { useDataLayerValue } from \"./DataLayer\";\r\n\r\nfunction Sidebar() {\r\n  const [{ playlists }, dispatch] = useDataLayerValue();\r\n  console.log(playlists);\r\n\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <img\r\n        className=\"sidebar__logo\"\r\n        src=\"https://getheavy.com/wp-content/uploads/2019/12/spotify2019-830x350.jpg\"\r\n        alt=\"\"\r\n      />\r\n      <SidebarOption Icon={HomeIcon} option=\"Home\" />\r\n      <SidebarOption Icon={SearchIcon} option=\"Search\" />\r\n      <SidebarOption Icon={LibraryMusicIcon} option=\"Your Library\" />\r\n      <br />\r\n      <strong className=\"sidebar__title\">PLAYLISTS</strong>\r\n      <hr />\r\n\r\n      {playlists?.items?.map((playlist) => (\r\n        <SidebarOption title={playlist.name} />\r\n      ))}\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Sidebar;","import React from 'react'\r\nimport './Body.css';\r\n\r\nfunction Body() {\r\n    return ( <\r\n        div className = \"body\" >\r\n        <\r\n        h1 > I am the Body < /h1> <\r\n        /div>\r\n    )\r\n}\r\n\r\nexport default Body","import React from 'react';\r\nimport './Footer.css';\r\n\r\nfunction Footer() {\r\n    return ( <\r\n        div className = \"footer\" >\r\n        <\r\n        h1 > I am the Footer < /h1> <\r\n        /div>\r\n    )\r\n}\r\n\r\nexport default Footer","import React from 'react'\r\nimport \"./Player.css\";\r\nimport Sidebar from \"./Sidebar\";\r\nimport Body from \"./Body\";\r\nimport Footer from \"./Footer\";\r\n\r\nfunction Player({ spotify }) {\r\n    return ( <\r\n        div className = \"player\" >\r\n        <\r\n        div className = \"player__body\" >\r\n\r\n        <\r\n        Sidebar / >\r\n        <\r\n        Body / >\r\n        <\r\n        Footer / > { /* Sidebar */ } { /* Body */ } { /* Footer */ } <\r\n        /div>\r\n\r\n        <\r\n        /div>\r\n    )\r\n}\r\n\r\nexport default Player","// eslint-disable-next-line no-unused-vars\nimport React, { useEffect, useState } from \"react\";\nimport './App.css';\nimport Login from './Login';\nimport { getTokenFromUrl } from './spotify';\nimport SpotifyWebApi from \"spotify-web-api-js\"; //wrapper which provides the spotify services\nimport Player from \"./Player\";\nimport { useDataLayerValue } from \"./DataLayer\";\n\n\nconst spotify = new SpotifyWebApi();\n//help to interact between reactapp and spotify\n\nfunction App() {\n    //const [token ,setToken] = useState(null); \n    // eslint-disable-next-line no-unused-vars\n    const [{ user, token }, dispatch] = useDataLayerValue(); //dispatch --> update the values in datalayer\n\n    //short term memory store\n\n\n    // run code based on a given condition\n\n    useEffect(() => {\n\n        const hash = getTokenFromUrl();\n        //grab the token from the url when app components loads for the first time\n\n        window.location.hash = \"\"; //hide the url from token\n        const _token = hash.access_token;\n\n        if (_token) {\n\n            dispatch({\n                type: \"SET_TOKEN\",\n                token: _token,\n            })\n\n\n\n            spotify.setAccessToken(_token); //given the access token to spotify api\n\n            spotify.getMe().then(user => {\n\n                dispatch({\n                    type: 'SET_USER',\n                    user: user,\n                });\n            });\n\n            spotify.getUserPlaylists().then((playlists) => {\n                dispatch({\n\n                    type: 'SET_PLAYLISTS',\n                    playlists: playlists,\n                })\n            })\n        }\n\n        console.log(\"I HAVE A TOKEN :\", token);\n\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    //[] --> run it once\n\n    return ( <\n        div className = \"app\" >\n\n        {\n            token ? (\n                // eslint-disable-next-line react/jsx-no-undef\n                <\n                Player spotify = { spotify }\n                />\n            ) : ( <\n                Login / >\n            )\n        }\n\n        { /* Spotify Logo */ } { /* Login with spotify button */ }\n\n\n        <\n        /div>\n    );\n}\n\nexport default App;\n\n//Problem : Prop drilling  --> tightly coupled code(if we make any changes in one area of the code then other areas will get reflected)\n//solution : use of redux or react context api(user friendly)","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const initialState = {\r\n    user: null,\r\n    playLists: [],\r\n    playing: false,\r\n    item: null,\r\n    //remove after finished developing......\r\n    //token:\"BQAdMr9-NR2RNa6fvzodPsV9BPkhDwrglQ1CGP-xFI5B6aWJ1kSbPDESBVE5qq5L85CZhfs6Xzvf3RiUKvYT4qxeEl2isErS_Oc6tLkzmBTXiIvRDemEPi4QG3FQkekDzbdzj816wHADZVHtQC1vKiWnucxz0EVafiIwC6XXYXIUFiI0\",\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n    console.log(action);\r\n\r\n    switch (action.type) {\r\n        //Action -> type , [payload]\r\n\r\n        case 'SET_USER':\r\n            return {\r\n                ...state,\r\n                user: action.user\r\n            }\r\n\r\n        case 'SET_TOKEN':\r\n            return {\r\n                ...state,\r\n                token: action.token,\r\n            }\r\n\r\n        case 'SET_PLAYLISTS':\r\n            return {\r\n                ...state,\r\n                playlists: action.playlists,\r\n            }\r\n\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport default reducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n//import * as serviceWorker from './serviceWorker';\n\nimport { DataLayer } from \"./DataLayer\";\nimport reducer, { initialState } from \"./reducer\"\n\n\nReactDOM.render( <\n    React.StrictMode >\n    <\n    DataLayer initialState = { initialState }\n    reducer = { reducer } >\n    <\n    App / >\n    <\n    /DataLayer> <\n    /React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}